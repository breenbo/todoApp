(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{1869:function(t,e,s){"use strict";var a=s("360f"),r=s.n(a);r.a},"2c66":function(t,e,s){"use strict";var a=s("8033"),r=s.n(a);r.a},"360f":function(t,e,s){},8033:function(t,e,s){},dc8a:function(t,e,s){"use strict";var a=s("2b0e"),r=s("fe09"),o=s("6fc5"),c=s("0613"),n=s("fc1b"),l=s("5f52"),i=function(t,e,s,a){var r,o=arguments.length,c=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(c=(o<3?r(c):o>3?r(e,s,c):r(e,s))||c);return o>3&&c&&Object.defineProperty(e,s,c),c};let d=class extends o["d"]{constructor(){super(...arguments),this.tasks={},this.sortBy="name",this.tasksDownloaded=!1,this.searchField=""}get tasksSorted(){let t={};const e=Object.keys(this.tasks);return e.sort((t,e)=>{let s=this.tasks[t][this.sortBy];s=s.toLowerCase();let a=this.tasks[e][this.sortBy];return a=a.toLowerCase(),s>a?1:s<a?-1:0}),e.forEach(e=>{t[e]=this.tasks[e]}),t}get taskFiltered(){const t=this.tasksSorted;let e={};return this.searchField?(Object.keys(t).forEach(s=>{const a=t[s],r=a.name.toLowerCase(),o=this.searchField.toLowerCase();r.includes(o)&&(e[s]=a)}),e):t}get tasksTodo(){const t=this.taskFiltered;let e={};return Object.keys(t).forEach(s=>{const a=t[s];a.completed||(e[s]=a)}),e}get taskCompleted(){const t=this.taskFiltered;let e={};return Object.keys(t).forEach(s=>{const a=t[s];a.completed&&(e[s]=a)}),e}updateTasks(t){Object.assign(this.tasks[t.id],t.updates)}deleteTask(t){a["a"].delete(this.tasks,t)}addTask(t){a["a"].set(this.tasks,t.taskId,t.task)}setSortBy(t){this.sortBy=t}setTasksDownloaded(t){this.tasksDownloaded=t}clearTasks(){this.tasks={}}updateTasksAction(t){this.context.dispatch("fbUpdateTask",t)}deleteTaskAction(t){this.context.dispatch("fbDeleteTask",t)}addTaskAction(t){const e=Object(r["g"])(),s={taskId:e,task:t};this.context.dispatch("fbAddTask",s)}setSortByAction(t){this.context.commit("setSortBy",t)}fbReadDatas(){if(n["b"].currentUser){const t=n["b"].currentUser.uid,e=n["c"].ref(`tasks/${t}`);e.once("value",()=>{this.context.commit("setTasksDownloaded",!0)},t=>{Object(l["a"])(t.message),this.context.commit("AuthStore/setLoggedIn",!1,{root:!0})}),e.on("child_added",t=>{const e=t.val(),s={taskId:t.key,task:e};this.context.commit("addTask",s)}),e.on("child_changed",t=>{const e=t.val(),s={id:t.key,updates:e};this.context.commit("updateTasks",s)}),e.on("child_removed",t=>{const e=t.key;this.context.commit("deleteTask",e)})}}fbAddTask(t){if(n["b"].currentUser){const e=n["b"].currentUser.uid,s=n["c"].ref(`tasks/${e}/${t.taskId}`);s.set(t.task,t=>{t?Object(l["a"])(t.message):r["d"].create({message:"Task created",type:"positive"})})}}fbUpdateTask(t){if(n["b"].currentUser){const e=n["b"].currentUser.uid,s=n["c"].ref(`tasks/${e}/${t.id}`);s.update(t.updates,e=>{if(e)Object(l["a"])(e.message);else{const e=Object.keys(t.updates);e.includes("completed")&&1==e.length||r["d"].create({message:"Task updated",type:"positive"})}})}}fbDeleteTask(t){if(n["b"].currentUser){const e=n["b"].currentUser.uid,s=n["c"].ref(`tasks/${e}/${t}`);s.remove(t=>{t?Object(l["a"])(t.message):r["d"].create({message:"Task deleted",type:"negative"})})}}setSearchField(t){this.searchField=t}setSearchFieldAction(t){this.context.commit("setSearchField",t)}};i([o["c"]],d.prototype,"updateTasks",null),i([o["c"]],d.prototype,"deleteTask",null),i([o["c"]],d.prototype,"addTask",null),i([o["c"]],d.prototype,"setSortBy",null),i([o["c"]],d.prototype,"setTasksDownloaded",null),i([o["c"]],d.prototype,"clearTasks",null),i([o["a"]],d.prototype,"updateTasksAction",null),i([o["a"]],d.prototype,"deleteTaskAction",null),i([o["a"]],d.prototype,"addTaskAction",null),i([o["a"]],d.prototype,"setSortByAction",null),i([o["a"]],d.prototype,"fbReadDatas",null),i([o["a"]],d.prototype,"fbAddTask",null),i([o["a"]],d.prototype,"fbUpdateTask",null),i([o["a"]],d.prototype,"fbDeleteTask",null),i([o["c"]],d.prototype,"setSearchField",null),i([o["a"]],d.prototype,"setSearchFieldAction",null),d=i([Object(o["b"])({dynamic:!0,name:"TaskStore",namespaced:!0,store:c["a"]})],d),e["a"]=d},f724:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[s("q-card",{staticClass:"registerCard",attrs:{flat:""}},[s("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"grey-8","indicator-color":"secondary",align:"justify"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{name:"login",label:"Login"}}),s("q-tab",{attrs:{name:"register",label:"Register"}})],1),s("q-separator"),s("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{attrs:{name:"login"}},[s("login-register",{attrs:{tab:t.tab}})],1),s("q-tab-panel",{attrs:{name:"register"}},[s("login-register",{attrs:{tab:t.tab}})],1)],1)],1)],1)},r=[],o=s("2b0e"),c=s("2fe1"),n=s("6fc5"),l=s("dc8a"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[s("div",{staticClass:"row q-mb-md"},[s("q-banner",{staticClass:"bg-grey-3 col",scopedSlots:t._u([{key:"avatar",fn:function(){return[s("q-icon",{attrs:{name:"account_circle",color:"secondary"}})]},proxy:!0}])},[t._v("\n      "+t._s(t._f("titleCase")(t.tab))+" to access your ToDo anywhere !\n      "),s("span",{staticClass:"loggedInTrick"},[t._v(t._s(t.loggedIn))])])],1),s("div",{staticClass:"row q-mb-md"},[s("q-input",{ref:"email",staticClass:"col",attrs:{color:"secondary",label:"Email","stack-label":"",rules:[function(e){return t.isValidEmailAdress(e)||"Please enter a valid email"}],"lazy-rules":""},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),s("div",{staticClass:"row q-mb-xl"},[s("q-input",{ref:"password",staticClass:"col",attrs:{color:"secondary",type:"password",label:"Password","stack-label":"",rules:[function(t){return t.length>=6||"Please enter at least 6 characters."}],"lazy-rules":""},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),s("div",{staticClass:"row"},[s("q-space"),s("q-btn",{attrs:{color:"primary",label:t.tab,type:"submit"}})],1)])},d=[],u=s("60a3"),p=s("a522"),f=s("fe09"),b=function(t,e,s,a){var r,o=arguments.length,c=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(c=(o<3?r(c):o>3?r(e,s,c):r(e,s))||c);return o>3&&c&&Object.defineProperty(e,s,c),c};let h=class extends u["c"]{constructor(){super(...arguments),this.authStore=Object(n["e"])(p["a"]),this.formData={email:"",password:""}}get loggedIn(){return this.authStore.loggedIn}isValidEmailAdress(t){const e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())}submitForm(){this.$refs.email.validate(),this.$refs.password.validate(),this.$refs.email.hasError||this.$refs.password.hasError||("login"==this.tab?(this.authStore.loginUser(this.formData),f["b"].show()):(this.authStore.registerUser(this.formData),f["b"].show()))}updated(){this.loggedIn&&(f["b"].hide(),this.$router.push("/").catch(t=>{}))}};b([Object(u["b"])({default:"login"})],h.prototype,"tab",void 0),h=b([Object(u["a"])({filters:{titleCase(t){return`${t.charAt(0).toUpperCase()}${t.slice(1)}`}}})],h);var k=h,m=k,y=(s("2c66"),s("2877")),g=s("eebe"),v=s.n(g),T=s("54e1"),w=s("0016"),j=s("27f9"),O=s("2c91"),D=s("9c40"),x=Object(y["a"])(m,i,d,!1,null,"efd7bece",null),S=x.exports;v()(x,"components",{QBanner:T["a"],QIcon:w["a"],QInput:j["a"],QSpace:O["a"],QBtn:D["a"]});var C=function(t,e,s,a){var r,o=arguments.length,c=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(c=(o<3?r(c):o>3?r(e,s,c):r(e,s))||c);return o>3&&c&&Object.defineProperty(e,s,c),c};let A=class extends o["a"]{constructor(){super(...arguments),this.store=Object(n["e"])(l["a"]),this.tab="login"}};A=C([Object(c["b"])({components:{LoginRegister:S}})],A);var $=A,q=$,F=(s("1869"),s("9989")),U=s("f09f"),_=s("429b"),R=s("7460"),I=s("eb85"),P=s("adad"),Q=s("823b"),B=Object(y["a"])(q,a,r,!1,null,"15e27662",null);e["default"]=B.exports;v()(B,"components",{QPage:F["a"],QCard:U["a"],QTabs:_["a"],QTab:R["a"],QSeparator:I["a"],QTabPanels:P["a"],QTabPanel:Q["a"]})}}]);